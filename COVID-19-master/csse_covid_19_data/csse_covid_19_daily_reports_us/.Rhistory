# Cài d???t và c???p nh???t thu vi???n
update.packages("tools")
install.packages("ggplot2", lib="C:\\Users\\Admin\\Documents\\R\\win-library\\3.3")
update.packages("ggplot2")
update.packages("data.table")
library(data.table)
#----------------------------------------------------------------
# Di chuy???n d???n thu m???c
setwd("E:/Project_HUET_PhanTichDuLieuCovid/COVID-19-master/csse_covid_19_data/csse_covid_19_daily_reports_us")
#----------------------------------------------------------------
# D???c d??? li???u
files <- list.files(pattern = ".csv")
temp <- lapply(files, fread, sep=",")
data <- rbindlist( temp, fill=TRUE)
names(data)
#----------------------------------------------------------------
# T???o các list và dataframe
# S??? lu???ng ngu???i nhi???m và ngu???i ch???t do covid
# S??? ngu???i h???i ph???c
# T??? l??? t??? vong
# T???i bang Alabama, Alaska ??? M???
Alk <- data[Province_State=="Ohio"]
Albm <- data[Province_State=="Texas"]
Albm$Case_Fatality_Ratio <- format(round(Albm$Case_Fatality_Ratio, 2), nsmall = 2)
Alk$Case_Fatality_Ratio <- format(round(Alk$Case_Fatality_Ratio, 2), nsmall = 2)
library("ggplot2", lib.loc="~/R/win-library/4.0")
#----------------------------------------------------------------
# D???c d??? li???u v??? covid c???a các bang t???i M??? ngày 01/01/2021
df1 <- read.table("01-01-2021.csv", header = TRUE, sep = ",")
names(df1)
# Chuy???n s??? th???p phân có 2 ch???u s??? sau d???u ph???y
df1$Case_Fatality_Ratio <- format(round(df1$Case_Fatality_Ratio, 2), nsmall = 2)
#----------------------------------------------------------------
# D???c d??? li???u v??? covid c???a các bang t???i M??? ngày 05/12/2020
df <- read.table("05-12-2020.csv", header = TRUE, sep = ",")
names(df)
# Chuy???n s??? th???p phân có 2 ch???u s??? sau d???u ph???y
df$Mortality_Rate <- format(round(df$Mortality_Rate, 2), nsmall = 2)
#----------------------------------------------------------------
# D??? th??? 1
ggplot(Alk) +
geom_line(aes(y=Case_Fatality_Ratio, x=Last_Update, color=Case_Fatality_Ratio)) +
labs(title="Bi???u d??? th??? hi???n t??? l??? t??? vong gây ra b???i covid du???c xác nh???n t???i Alaska - M??? t??? 04/2020 d???n 07/2021", x="Last Update", y="Case Fatality Ratio")
#----------------------------------------------------------------
# D??? th??? 2
ggplot(Albm, aes(y=Case_Fatality_Ratio, x=Last_Update, fill= Case_Fatality_Ratio)) +
geom_point(aes(color=Case_Fatality_Ratio)) +
labs(title="Bi???u d??? th??? hi???n t??? l??? t??? vong gây ra b???i covid du???c xác nh???n t???i Alabama - M??? t??? 04/2020 d???n 07/2021", x="Last Update", y="Case Fatality Ratio")
